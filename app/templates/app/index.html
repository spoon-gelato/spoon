{% extends "app/base.html" %}

{% block title %}
<title>spoon | ジェラート＆焼菓子</title>
{% endblock %}

{% block slider %}
<div id= "slides" class="top carousel slide carousel-fade" data-ride="carousel" data-interval="3000">
    <ul class="carousel-indicators">
        <li data-target="#slides" data-slide-to="0" class="active"></li>
        <li data-target="#slides" data-slide-to="1"></li>
        <li data-target="#slides" data-slide-to="2"></li>
    </ul>
    <div class="carousel-inner">
        <!-- <div class="top__item--image2 carousel-item active">
            <p>aaaaaaa</p>
        </div> -->
        <div class="top__item--image1 carousel-item active"></div>
        <div class="top__item--image2 carousel-item"></div>
        <div class="top__item--image3 carousel-item"></div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="row px-3 p-xl-0">
    <div class="col-xl-9 p-0">
        <h1 class="title">
            <span>お知らせ</span>
        </h1>
        
        <div class="text-center">
            <div class="d-inline-block text-left">
                {% for news in news_data %}
                    <p class="top__news mb-3">
                        <span class="top__news--date">{{ news.date | date:"Y/m/d" }}</span><br class="d-sm-none">
                        <span class="ml-sm-3">{{ news.comment }}</span>
                    </p>
                {% endfor %}
            </div>
        </div>

        <h1 class="title mt-5">
            <span>おすすめ商品</span>
        </h1>

        {% for pick in pick_data %}
            <div class="row mb-5">
                <div class="col-sm-5 col-md-4 col-lg-3 text-center">
                    <img class="top__pick--img" src="{{ pick.image.url }}">
                </div>
                <div class="col-sm-7 col-md-8 col-lg-9 mx-auto text-center text-sm-left">
                    <p class="top__pick--name my-1 mx-auto">
                        <span class="top__pick--name--e mr-2">{{ pick.e_name }}</span><br class="d-md-none">
                        <span class="top__pick--name--j">{{ pick.j_name }}</span>
                    </p>
                    <hr class="my-2">
                    <p class="d-inline-block text-left mb-3 mb-sm-4 mb-lg-5">{{ pick.comment | linebreaksbr }}</p>
                    <div class="top__pick--size d-flex">
                        <div class="d-flex mr-sm-4 mr-md-5 flex-column flex-lg-row">
                            <span class="mr-lg-2">M:ミニ</span>
                            <span class="top__pick--size--price">\{{ pick.m_price }}</span>
                        </div>
                        <div class="d-flex mr-sm-4 mr-md-5 flex-column flex-lg-row">
                            <span class="mr-lg-2">S:シングル</span>
                            <span class="top__pick--size--price">\{{ pick.s_price }}</span>
                        </div>
                        <div class="d-flex flex-column flex-lg-row">
                            <span class="mr-lg-2">W:ダブル</span>
                            <span class="top__pick--size--price">\{{ pick.w_price }}</span>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    {% include 'app/sidebar.html' %}
</div>
{% endblock %}


{% block extrajs %}
<!-- <script>
    'use strict';

    // クーポン発行有無
    if ( '{{ courpon }}' == 'get' ) {
        const element  = Object.assign(document.createElement('div'), { className: 'order-user__courpon alert alert-dismissible fade show d-flex justify-content-center align-items-center m-0 p-3'});
        const element2  = Object.assign(document.createElement('div'));
        const element3  = Object.assign(document.createElement('img'), { className: 'done-check d-block mx-auto mb-2', src: "{# static 'img/check.svg' #}" });
        const element4  = Object.assign(document.createElement('strong'), { innerHTML: 'お誕生月おめでとう!!' });
        const element5  = Object.assign(document.createElement('button'), { className: 'order-user__courpon--btn close', type: 'button'});
        const element6  = Object.assign(document.createElement('span'), { className: 'order-user__courpon--close', innerHTML: '&times;'});
        // 階層に合わせて要素をまとめる
        element2.appendChild(element3);
        element2.appendChild(element4);
        element5.appendChild(element6);
        element.appendChild(element2);
        element.appendChild(element5);
        // 最後に追加
        document.body.insertBefore(element, document.body.firstChild);

        let order_alert = document.querySelector('.order-user__courpon');
        order_alert.setAttribute('role', 'alert');
        let alert_btn = document.querySelector('.order-user__courpon--btn');
        alert_btn.setAttribute('data-dismiss', 'alert');
        alert_btn.setAttribute('aria-label', 'Close');
        let alert_close = document.querySelector('.order-user__courpon--close');
        alert_close.setAttribute('aria-hidden', 'true');
    }
</script> -->
{% endblock %}